(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-apply-openinfo"],{"3c9f":function(t,a,e){"use strict";var i=e("eba2"),n=e.n(i);n.a},"4b2c":function(t,a,e){"use strict";e.r(a);var i=e("b937"),n=e("a417");for(var c in n)"default"!==c&&function(t){e.d(a,t,(function(){return n[t]}))}(c);e("3c9f");var o,r=e("f0c5"),s=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"4512396c",null,!1,i["a"],o);a["default"]=s.exports},a417:function(t,a,e){"use strict";e.r(a);var i=e("ecc5"),n=e.n(i);for(var c in i)"default"!==c&&function(t){e.d(a,t,(function(){return i[t]}))}(c);a["default"]=n.a},aaa3:function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.uni-line-hide[data-v-4512396c]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.uni-using-hide[data-v-4512396c]{overflow:hidden;width:100%;text-overflow:ellipsis;white-space:nowrap}.prevent-head-roll[data-v-4512396c]{position:fixed;left:0;right:0;z-index:998}.flex-center[data-v-4512396c], .page-btn-wrap[data-v-4512396c], .page-btn-wrap .page-btn[data-v-4512396c], .page-tips-wrap[data-v-4512396c]{display:flex;justify-content:center;align-items:center}.flex-center-y[data-v-4512396c], .flex-title[data-v-4512396c], .app-card .card-title[data-v-4512396c], .app-card .card-item[data-v-4512396c]{display:flex;align-items:center}.text-ellipsis[data-v-4512396c]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.flex-title[data-v-4512396c]{justify-content:space-between}.flex-title > .main[data-v-4512396c]{flex:1}.flex-title > .ohter[data-v-4512396c]{text-align:right}.has-arrow[data-v-4512396c]::after{position:absolute;right:%?30?%;content:"";width:%?16?%;height:%?16?%;border-right:%?1?% solid #000;border-top:%?1?% solid #000;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.has-active[data-v-4512396c]:active{background-color:#f1f1f1}*[data-v-4512396c]{margin:0;padding:0;box-sizing:border-box}.status-bar[data-v-4512396c]{height:calc(0px + var(--window-top));width:100%}.page-wrap[data-v-4512396c]{max-width:%?750?%;min-height:calc(100vh - var(--window-bottom) - var(--window-top) - 0px);background-color:#f3f4f8;position:relative;background-repeat:no-repeat;background-position:50%;background-size:100% 100%;padding-bottom:%?50?%}.padding-all[data-v-4512396c]{padding:%?30?%}.padding-x[data-v-4512396c]{padding:%?30?% 0}.padding-y[data-v-4512396c]{padding:0 %?30?%}.dev-style[data-v-4512396c]{-webkit-filter:grayscale(100%);-moz-filter:grayscale(100%);-ms-filter:grayscale(100%);-o-filter:grayscale(100%);filter:grayscale(100%);-webkit-filter:grey;filter:gray;color:grey}.triangle-box.show-top[data-v-4512396c]::after{content:"";margin-left:%?10?%;display:inline-block;border-bottom:%?14?% solid #6f98bb;border-left:%?8?% solid transparent;border-right:%?8?% solid transparent}.triangle-box.show-bottom[data-v-4512396c]::after{content:"";margin-left:%?10?%;display:inline-block;border-top:%?14?% solid #6f98bb;border-left:%?8?% solid transparent;border-right:%?8?% solid transparent}.app-card[data-v-4512396c]{border-radius:%?16?%;background-color:#fff;margin-bottom:%?20?%}.app-card .card-title[data-v-4512396c]{height:%?100?%;justify-content:space-between;font-size:%?30?%;color:#ff6a00}.app-card .card-title .main .card-title-icon[data-v-4512396c]{width:%?36?%;margin-right:%?20?%}.app-card .card-item[data-v-4512396c]{border-bottom:%?1?% solid #eee;min-height:%?80?%}.app-card .card-item.n-b-b[data-v-4512396c]{border-bottom:none}.app-card .card-item[data-v-4512396c]:last-child{border-bottom:none}.app-card .card-item .card-item-label[data-v-4512396c]{width:%?180?%;height:%?80?%;line-height:%?80?%;font-size:%?28?%}.app-card .card-item .card-item-label.require[data-v-4512396c]::after{content:"*";color:red}.app-card .card-item .card-item-value[data-v-4512396c]{flex:1}.app-card .card-item .card-item-value .card-item-input[data-v-4512396c]{font-size:%?28?%}.page-btn-wrap[data-v-4512396c]{width:100%;height:%?120?%}.page-btn-wrap .page-btn[data-v-4512396c]{color:#fff;width:%?500?%;height:%?80?%;background-color:#ff6a00;border-radius:%?60?%}.page-btn-wrap .page-btn[data-v-4512396c]:active{background-color:rgba(255,106,0,.4)}.page-title[data-v-4512396c]{height:%?100?%;font-size:%?32?%;padding:0 %?30?%}.page-tips-wrap[data-v-4512396c]{width:100%;height:%?80?%;font-size:%?24?%;color:#ccc}.app-primary-color[data-v-4512396c]{color:#ff6a00}.authentication-info[data-v-4512396c]{overflow:hidden}.item-wrap[data-v-4512396c]{margin-top:%?20?%;background-color:#fff}.item-wrap.type[data-v-4512396c]{padding:%?20?% %?30?%}.item-wrap .form-wrap[data-v-4512396c]{display:flex;align-items:center;margin:0 %?30?%;border-bottom:1px solid #eee;height:%?100?%;line-height:%?100?%}.item-wrap .form-wrap[data-v-4512396c]:last-child{border-bottom:none}.item-wrap .form-wrap .label[data-v-4512396c]{margin-right:%?30?%;vertical-align:middle}.item-wrap .form-wrap uni-input[data-v-4512396c]{vertical-align:middle;display:inline-block;flex:1;text-align:right}.item-wrap .form-wrap.more-wrap .selected[data-v-4512396c]{vertical-align:middle;display:inline-block;flex:1;text-align:right;color:#909399;overflow:hidden;white-space:pre;text-overflow:ellipsis}.item-wrap .form-wrap.more-wrap .selected.have[data-v-4512396c]{color:#303133}.item-wrap .form-wrap.more-wrap .iconfont[data-v-4512396c]{color:#909399;margin-left:%?20?%}.item-wrap .form-wrap .value[data-v-4512396c]{font-weight:700;vertical-align:middle;display:inline-block;flex:1;text-align:right;overflow:hidden;text-overflow:ellipsis;white-space:pre}.item-wrap .form-wrap.input-img[data-v-4512396c]{height:%?200?%;line-height:%?200?%;display:block}.item-wrap .form-wrap.input-img .img-wrap[data-v-4512396c]{float:right;display:inline-block;margin-top:%?30?%;width:%?300?%;height:%?140?%;line-height:%?140?%;text-align:center;border:%?2?% dashed #ccc}.item-wrap .form-wrap.input-img .img-wrap .iconfont[data-v-4512396c]{font-size:%?68?%;color:#ccc}.item-wrap .form-wrap.input-img .img-wrap uni-image[data-v-4512396c]{width:100%;height:100%}.item-wrap .type-wrap[data-v-4512396c]{display:flex;margin:%?20?% %?30?%}.item-wrap .type-wrap uni-view[data-v-4512396c]{flex:1;position:relative;margin-right:%?40?%;height:%?80?%;line-height:%?80?%;text-align:center;color:#909399;border:%?2?% solid #ccc}.item-wrap .type-wrap uni-view[data-v-4512396c]:last-child{margin-right:0}.item-wrap .type-wrap uni-view .iconfont[data-v-4512396c]{position:absolute;right:%?-22?%;bottom:%?-22?%;font-size:%?80?%;display:none}.item-wrap .type-wrap uni-view.selected .iconfont[data-v-4512396c]{display:block}.form-title[data-v-4512396c]{margin-bottom:%?20?%}.set-next[data-v-4512396c]{display:flex;align-items:center;justify-content:space-around;margin-top:%?80?%;margin-bottom:%?80?%}.set-next uni-button[data-v-4512396c]{flex:1}',""]),t.exports=a},b937:function(t,a,e){"use strict";var i;e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return c})),e.d(a,"a",(function(){return i}));var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"authentication-info"},[2==t.infoData.cert_type?e("v-uni-view",{staticClass:"item-wrap"},[e("v-uni-view",{staticClass:"form-wrap"},[e("v-uni-text",{staticClass:"label"},[t._v("店铺名称")]),e("v-uni-input",{staticClass:"uni-input",attrs:{type:"text",placeholder:"请输入店铺名称"},model:{value:t.infoData.shop_name,callback:function(a){t.$set(t.infoData,"shop_name",a)},expression:"infoData.shop_name"}})],1),e("v-uni-view",{staticClass:"form-wrap"},[e("v-uni-text",{staticClass:"label"},[t._v("公司名称")]),e("v-uni-input",{staticClass:"uni-input",attrs:{type:"text",placeholder:"请输入公司名称"},model:{value:t.infoData.company_name,callback:function(a){t.$set(t.infoData,"company_name",a)},expression:"infoData.company_name"}})],1),e("v-uni-view",{staticClass:"form-wrap more-wrap"},[e("v-uni-text",{staticClass:"label"},[t._v("联系地址")]),e("v-uni-input",{staticClass:"uni-input",attrs:{type:"text",placeholder:"请选择省市区县",disabled:!0,value:t.addressJoin},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.btnClick.apply(void 0,arguments)}}})],1),e("v-uni-view",{staticClass:"form-wrap"},[e("v-uni-text",{staticClass:"label"},[t._v("公司详细地址")]),e("v-uni-input",{staticClass:"uni-input",attrs:{type:"text",placeholder:"请输入详细地址"},model:{value:t.infoData.company_address,callback:function(a){t.$set(t.infoData,"company_address",a)},expression:"infoData.company_address"}})],1),e("v-uni-view",{staticClass:"form-wrap"},[e("v-uni-text",{staticClass:"label"},[t._v("统一社会信用码")]),e("v-uni-input",{staticClass:"uni-input",attrs:{type:"text",placeholder:"请输入统一社会信用码"},model:{value:t.infoData.business_licence_number,callback:function(a){t.$set(t.infoData,"business_licence_number",a)},expression:"infoData.business_licence_number"}})],1),e("v-uni-view",{staticClass:"form-wrap input-img"},[e("v-uni-text",{staticClass:"label"},[t._v("营业执照电子版")]),e("v-uni-view",{staticClass:"img-wrap",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.uplodImg("business")}}},[t.infoData.business_licence_number_electronic?e("v-uni-image",{attrs:{src:t.$util.img(t.infoData.business_licence_number_electronic),mode:"aspectFit"}}):e("v-uni-text",{staticClass:"iconfont iconadd1"})],1)],1)],1):t._e(),e("v-uni-view",{staticClass:"item-wrap"},[e("v-uni-view",{staticClass:"form-wrap"},[2==t.infoData.cert_type?e("v-uni-text",{staticClass:"label"},[t._v("负责人姓名")]):e("v-uni-text",{staticClass:"label"},[t._v("联系人姓名")]),e("v-uni-input",{staticClass:"uni-input",attrs:{type:"text",placeholder:"请输入姓名"},model:{value:t.infoData.contacts_name,callback:function(a){t.$set(t.infoData,"contacts_name",a)},expression:"infoData.contacts_name"}})],1),e("v-uni-view",{staticClass:"form-wrap"},[2==t.infoData.cert_type?e("v-uni-text",{staticClass:"label"},[t._v("负责人手机")]):e("v-uni-text",{staticClass:"label"},[t._v("联系人手机")]),e("v-uni-input",{staticClass:"uni-input",attrs:{type:"text",maxlength:"11",placeholder:"请输入手机号"},model:{value:t.infoData.contacts_mobile,callback:function(a){t.$set(t.infoData,"contacts_mobile",a)},expression:"infoData.contacts_mobile"}})],1),e("v-uni-view",{staticClass:"form-wrap"},[2==t.infoData.cert_type?e("v-uni-text",{staticClass:"label"},[t._v("负责人身份证")]):e("v-uni-text",{staticClass:"label"},[t._v("联系人身份证")]),e("v-uni-input",{staticClass:"uni-input",attrs:{type:"text",maxlength:"18",placeholder:"请输入身份证号"},model:{value:t.infoData.contacts_card_no,callback:function(a){t.$set(t.infoData,"contacts_card_no",a)},expression:"infoData.contacts_card_no"}})],1)],1),e("v-uni-view",{staticClass:"set-next"},[e("v-uni-button",{attrs:{type:"primary"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toNext()}}},[t._v("提交")])],1),e("selectAddress",{ref:"selectAddress",on:{selectAddress:function(a){arguments[0]=a=t.$handleEvent(a),t.successSelectAddress.apply(void 0,arguments)}}})],1)},c=[]},eba2:function(t,a,e){var i=e("aaa3");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("9b037386",i,!0,{sourceMap:!1,shadowMode:!1})},ecc5:function(t,a,e){"use strict";var i=e("4ea4");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=i(e("1814")),c=i(e("840e")),o=i(e("466f")),r=e("2f68"),s={data:function(){return{addressJoin:"",infoData:{id:"",cert_type:2,shop_name:"",company_name:"",company_region:"",company_province_id:"",company_province:"",company_city_id:"",company_city:"",company_district_id:"",company_district:"",company_address:"",company_full_address:"",business_licence_number:"",business_licence_number_electronic:"",business_sphere:"",contacts_name:"",contacts_mobile:"",contacts_card_no:"",contacts_card_electronic_2:"",contacts_card_electronic_3:"",contacts_card_electronic_front:"",contacts_card_electronic_reverse:""},defaultRegions:[],shopPackage:{group_name:""}}},components:{selectAddress:o.default,pickRegions:c.default},onLoad:function(){var t=uni.getStorageSync("loginInfo");this.infoData.id=t.id},onShow:function(){},methods:{initDataFn:function(){var t=this;this.$api.sendRequest({url:"/shopapi/apply/index",success:function(a){var e=a.data;if(0==a.code&&e&&e.shop_apply_info){var i=e.shop_apply_info;t.infoData.cert_type=i.cert_type,t.infoData.company_name=i.company_name,t.defaultRegions=[],t.defaultRegions.push(i.company_province_id),t.defaultRegions.push(i.company_city_id),t.defaultRegions.push(i.company_district_id),t.infoData.company_address=i.company_address,t.infoData.business_licence_number=i.business_licence_number,t.infoData.business_licence_number_electronic=i.business_licence_number_electronic,t.infoData.business_sphere=i.business_sphere,t.infoData.contacts_name=i.contacts_name,t.infoData.contacts_mobile=i.contacts_mobile,t.infoData.contacts_card_no=i.contacts_card_no,t.infoData.contacts_card_electronic_2=i.contacts_card_electronic_2,t.infoData.contacts_card_electronic_3=i.contacts_card_electronic_3}t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})},btnClick:function(){this.$refs.selectAddress.show()},successSelectAddress:function(t){this.addressJoin=t.join(""),this.infoData.company_region=t.join(""),2==t.length?(this.infoData.company_province=t[0],this.infoData.company_city=t[0],this.infoData.company_district=t[1]):(this.infoData.company_province=t[0],this.infoData.company_city=t[1],this.infoData.company_district=t[2])},handleGetRegions:function(t){this.infoData.company_region="",this.infoData.company_region+=void 0!=t[0]?t[0].label:"",this.infoData.company_region+=void 0!=t[1]?"-"+t[1].label:"",this.infoData.company_region+=void 0!=t[2]?"-"+t[2].label:"",this.infoData.company_province_id=void 0!=t[0]?t[0].value:"",this.infoData.company_city_id=void 0!=t[1]?t[1].value:"",this.infoData.company_district_id=void 0!=t[2]?t[2].value:""},uplodImg:function(t){var a=this;this.$util.upload({number:1,path:"image"},(function(e){e&&(a.$util.showToast({title:"上传成功"}),"business"==t&&(a.infoData.business_licence_number_electronic=e[0]),"front"==t&&(a.infoData.contacts_card_electronic_front=e[0]),"reverse"==t&&(a.infoData.contacts_card_electronic_reverse=e[0]))}))},vertify:function(){var t=[{name:"shop_name",checkType:"required",errorMsg:"请输入店铺名称"},{name:"company_name",checkType:"required",errorMsg:"请输入公司名称"},{name:"company_region",checkType:"required",errorMsg:"请选择联系地址"},{name:"company_address",checkType:"required",errorMsg:"请输入公司详细地址"},{name:"business_licence_number",checkType:"required",errorMsg:"请输入统一社会信用代码"},{name:"business_licence_number_electronic",checkType:"required",errorMsg:"请上传营业执照"},{name:"business_sphere",checkType:"required",errorMsg:"请输入法定经营范围"},{name:"contacts_name",checkType:"required",errorMsg:"请输入姓名"},{name:"contacts_mobile",checkType:"required",errorMsg:"请输入手机号"},{name:"contacts_mobile",checkType:"phoneno",errorMsg:"手机号格式不正确,请重新输入"},{name:"contacts_card_no",checkType:"required",errorMsg:"请输入身份证号"},{name:"contacts_card_no",checkType:"lengthMin",checkRule:18,errorMsg:"身份证号不能少于18位"},{name:"contacts_card_electronic_front",checkType:"required",errorMsg:"请上传身份证正面"},{name:"contacts_card_electronic_reverse",checkType:"required",errorMsg:"请上传身份证反面"}],a=n.default.check(this.infoData,t);return!!a||(this.$util.showToast({title:n.default.error}),!1)},vertify2:function(){var t=[{name:"contacts_name",checkType:"required",errorMsg:"请输入姓名"},{name:"contacts_mobile",checkType:"required",errorMsg:"请输入手机号"},{name:"contacts_mobile",checkType:"phoneno",errorMsg:"手机号格式不正确,请重新输入"},{name:"contacts_card_no",checkType:"required",errorMsg:"请输入身份证号"},{name:"contacts_card_no",checkType:"lengthMin",checkRule:18,errorMsg:"身份证号不能少于18位"},{name:"contacts_card_electronic_front",checkType:"required",errorMsg:"请上传身份证正面"},{name:"contacts_card_electronic_reverse",checkType:"required",errorMsg:"请上传身份证反面"}],a=n.default.check(this.infoData,t);return!!a||(this.$util.showToast({title:n.default.error}),!1)},toPrevious:function(){this.$util.redirectTo("/pages/apply/agreement")},toNext:function(){var t=this;if(2==this.infoData.cert_type)this.infoData.company_full_address=this.infoData.company_region+this.infoData.company_address,uni.setStorage({key:"openInfo",data:JSON.stringify(this.infoData)}),(0,r.saveShopApi)(this.infoData).then((function(a){200==a.data.code?(uni.setStorageSync("token",a.data.token),uni.setStorageSync("site_id",a.data.shop_id),uni.setStorageSync("shop_id",a.data.shop_id),t.$util.redirectTo("/pages/index/index")):t.$util.showToast({icon:"error",title:a.data.meg})}));else if(1==this.infoData.cert_type&&this.vertify2()){var a={};a.cert_type=this.infoData.cert_type,a.contacts_name=this.infoData.contacts_name,a.contacts_mobile=this.infoData.contacts_mobile,a.contacts_card_no=this.infoData.contacts_card_no,a.contacts_card_electronic_2=this.infoData.contacts_card_electronic_2,a.contacts_card_electronic_3=this.infoData.contacts_card_electronic_3,uni.setStorage({key:"openInfo",data:JSON.stringify(a)}),this.$util.redirectTo("/pages/apply/bankInfo")}}}};a.default=s}}]);