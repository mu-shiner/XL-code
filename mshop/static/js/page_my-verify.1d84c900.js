(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page_my-verify"],{2068:function(e,t,a){"use strict";var r=a("3b5a"),i=a.n(r);i.a},"2f68":function(e,t,a){"use strict";var r=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.addAdminApi=n,t.adminListApi=o,t.qrcodeVerifyApi=c,t.openIdApi=s,t.shopAuditApi=l,t.saveShopApi=u,t.getUsersBillApi=p,t.withdrawBillApi=f,t.withdrawConfigApi=h,t.withdrawApi=g;var i=r(a("aad9")),d={Withdraw:"/Shop/ShopAccount/index",WithdrawConfig:"/Shop/ShopAccount/getWithdrawConfig",WithdrawBill:"/Shop/ShopAccount/withdrawBill",UsersBill:"/Shop/ShopAccount/accountBill",SaveShop:"/Shop/Login/saveShop",ShopAudit:"/Shop/Shop/saveShopAudit",OpenId:"/Api/Wxlogin/getOpenid",qrcodeVerify:"/Shop/Index/QrcodeVerify",adminList:"/Shop/Shop/adminList",addAdmin:"/Shop/Shop/addAdmin"};function n(e){return i.default.request({url:d.addAdmin,method:"post",data:e})}function o(e){return i.default.request({url:d.adminList,method:"post",data:e})}function c(e){return i.default.request({url:d.qrcodeVerify,method:"post",data:e})}function s(e){return i.default.request({url:d.OpenId,method:"post",data:e})}function l(e){return i.default.request({url:d.ShopAudit,method:"post",data:e})}function u(e){return i.default.request({url:d.SaveShop,method:"post",data:e})}function p(e){return i.default.request({url:d.UsersBill,method:"post",data:e})}function f(e){return i.default.request({url:d.WithdrawBill,method:"post",data:e})}function h(e){return i.default.request({url:d.WithdrawConfig,method:"post",data:e})}function g(e){return i.default.request({url:d.Withdraw,method:"post",data:e})}},31178:function(e,t,a){"use strict";a.r(t);var r=a("6b0d"),i=a("75b9");for(var d in i)"default"!==d&&function(e){a.d(t,e,(function(){return i[e]}))}(d);a("2068");var n,o=a("f0c5"),c=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"045e274d",null,!1,r["a"],n);t["default"]=c.exports},"3b5a":function(e,t,a){var r=a("5a1d");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=a("4f06").default;i("689d1c4b",r,!0,{sourceMap:!1,shadowMode:!1})},"5a1d":function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.uni-line-hide[data-v-045e274d]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.uni-using-hide[data-v-045e274d]{overflow:hidden;width:100%;text-overflow:ellipsis;white-space:nowrap}.prevent-head-roll[data-v-045e274d]{position:fixed;left:0;right:0;z-index:998}.flex-center[data-v-045e274d], .page-btn-wrap[data-v-045e274d], .page-btn-wrap .page-btn[data-v-045e274d], .page-tips-wrap[data-v-045e274d]{display:flex;justify-content:center;align-items:center}.flex-center-y[data-v-045e274d], .flex-title[data-v-045e274d], .app-card .card-title[data-v-045e274d], .app-card .card-item[data-v-045e274d]{display:flex;align-items:center}.text-ellipsis[data-v-045e274d]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.flex-title[data-v-045e274d]{justify-content:space-between}.flex-title > .main[data-v-045e274d]{flex:1}.flex-title > .ohter[data-v-045e274d]{text-align:right}.has-arrow[data-v-045e274d]::after{position:absolute;right:%?30?%;content:"";width:%?16?%;height:%?16?%;border-right:%?1?% solid #000;border-top:%?1?% solid #000;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.has-active[data-v-045e274d]:active{background-color:#f1f1f1}*[data-v-045e274d]{margin:0;padding:0;box-sizing:border-box}.status-bar[data-v-045e274d]{height:calc(0px + var(--window-top));width:100%}.page-wrap[data-v-045e274d]{max-width:%?750?%;min-height:calc(100vh - var(--window-bottom) - var(--window-top) - 0px);background-color:#f3f4f8;position:relative;background-repeat:no-repeat;background-position:50%;background-size:100% 100%;padding-bottom:%?50?%}.padding-all[data-v-045e274d]{padding:%?30?%}.padding-x[data-v-045e274d]{padding:%?30?% 0}.padding-y[data-v-045e274d]{padding:0 %?30?%}.dev-style[data-v-045e274d]{-webkit-filter:grayscale(100%);-moz-filter:grayscale(100%);-ms-filter:grayscale(100%);-o-filter:grayscale(100%);filter:grayscale(100%);-webkit-filter:grey;filter:gray;color:grey}.triangle-box.show-top[data-v-045e274d]::after{content:"";margin-left:%?10?%;display:inline-block;border-bottom:%?14?% solid #6f98bb;border-left:%?8?% solid transparent;border-right:%?8?% solid transparent}.triangle-box.show-bottom[data-v-045e274d]::after{content:"";margin-left:%?10?%;display:inline-block;border-top:%?14?% solid #6f98bb;border-left:%?8?% solid transparent;border-right:%?8?% solid transparent}.app-card[data-v-045e274d]{border-radius:%?16?%;background-color:#fff;margin-bottom:%?20?%}.app-card .card-title[data-v-045e274d]{height:%?100?%;justify-content:space-between;font-size:%?30?%;color:#ff6a00}.app-card .card-title .main .card-title-icon[data-v-045e274d]{width:%?36?%;margin-right:%?20?%}.app-card .card-item[data-v-045e274d]{border-bottom:%?1?% solid #eee;min-height:%?80?%}.app-card .card-item.n-b-b[data-v-045e274d]{border-bottom:none}.app-card .card-item[data-v-045e274d]:last-child{border-bottom:none}.app-card .card-item .card-item-label[data-v-045e274d]{width:%?180?%;height:%?80?%;line-height:%?80?%;font-size:%?28?%}.app-card .card-item .card-item-label.require[data-v-045e274d]::after{content:"*";color:red}.app-card .card-item .card-item-value[data-v-045e274d]{flex:1}.app-card .card-item .card-item-value .card-item-input[data-v-045e274d]{font-size:%?28?%}.page-btn-wrap[data-v-045e274d]{width:100%;height:%?120?%}.page-btn-wrap .page-btn[data-v-045e274d]{color:#fff;width:%?500?%;height:%?80?%;background-color:#ff6a00;border-radius:%?60?%}.page-btn-wrap .page-btn[data-v-045e274d]:active{background-color:rgba(255,106,0,.4)}.page-title[data-v-045e274d]{height:%?100?%;font-size:%?32?%;padding:0 %?30?%}.page-tips-wrap[data-v-045e274d]{width:100%;height:%?80?%;font-size:%?24?%;color:#ccc}.app-primary-color[data-v-045e274d]{color:#ff6a00}.tip[data-v-045e274d]{width:100%;height:100vh;display:flex;justify-content:center;align-items:center;font-size:%?80?%;color:#909399;font-weight:700}.link[data-v-045e274d]{display:block;margin-top:%?40?%;margin-left:%?40?%;font-size:%?60?%}',""]),e.exports=t},"6b0d":function(e,t,a){"use strict";var r;a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return d})),a.d(t,"a",(function(){return r}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"page-wrap"},[e.islink?a("a",{staticClass:"link",attrs:{target:"_blank",href:"https://tuan.100dtc.com/mshop/pages/verify/records"}},[e._v("点击查看核销记录")]):e._e()])},d=[]},"75b9":function(e,t,a){"use strict";a.r(t);var r=a("a97e"),i=a.n(r);for(var d in r)"default"!==d&&function(e){a.d(t,e,(function(){return r[e]}))}(d);t["default"]=i.a},a97e:function(e,t,a){"use strict";var r=a("4ea4");a("4d63"),a("ac1f"),a("25f0"),a("466d"),a("5319"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var i=r(a("1da1")),d=a("2f68"),n={onLoad:function(){this.verifyCode()},data:function(){return{openId:"",verify_code:"",html:"",islink:!1}},methods:{verifyCode:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isWeixin=e.isWechat(),e.isWeixin&&!uni.getStorageSync("openId")?e.checkWeChatCode():e.openId=uni.getStorageSync("openId"),e.verify_code=e.getUrlCode("verify_code"),t.next=5,(0,d.qrcodeVerifyApi)({wx_openid:e.openId,verify_code:e.verify_code});case 5:a=t.sent,r=200==a.data.code?"核销成功":a.data.meg,e.html=200!=a.data.code?"点击关闭页面":"",uni.setStorageSync("token",a.data.data.token),uni.setStorageSync("shop_id",a.data.data.shop_id),uni.setStorageSync("id",a.data.data.id),i=e,uni.showModal({title:"提示",showCancel:!1,content:r,success:function(e){e.confirm?200==a.data.code?i.islink=!0:(document.addEventListener("WeixinJSBridgeReady",(function(){WeixinJSBridge.call("closeWindow")}),!1),WeixinJSBridge.call("closeWindow")):e.cancel}});case 13:case"end":return t.stop()}}),t)})))()},isWechat:function(){return"micromessenger"===String(navigator.userAgent.toLowerCase().match(/MicroMessenger/i))},bindOpenId:function(e){var t=this;return(0,i.default)(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,(0,d.openIdApi)({code:e});case 2:r=a.sent,t.openId=r.data.data,uni.setStorageSync("openId",t.openId);case 5:case"end":return a.stop()}}),a)})))()},getUrlCode:function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[,""])[1].replace(/\+/g,"%20"))||null},checkWeChatCode:function(){var e=this.getUrlCode("code");e?this.bindOpenId(e):this.getWeChatCode()},getWeChatCode:function(){var e=encodeURIComponent(window.location.href),t="wxbb5892c3708ff99d";window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+t+"&redirect_uri="+e+"&response_type=code&scope=snsapi_userinfo&state=1#wechat_redirect"},cancleWindow:function(){document.addEventListener("WeixinJSBridgeReady",(function(){WeixinJSBridge.call("closeWindow")}),!1),WeixinJSBridge.call("closeWindow")}}};t.default=n},aad9:function(e,t,a){"use strict";var r=a("4ea4");a("d3b7"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("317a")),d=r(a("e8fc")),n={config:{baseUrl:i.default.baseUrl,data:{},method:"get",dataType:"json",responseType:"text",header:{"content-type":"application/x-www-form-urlencoded;application/json"}},interceptor:{request:null,response:null},request:function(e){var t=this;e||(e={});var a=uni.getStorageSync("token");e.baseUrl=e.baseUrl||this.config.baseUrl,e.dataType=e.dataType||this.config.dataType,e.url=e.baseUrl+e.url,e.data=e.data||{},e.method=e.method||this.config.method,e.header=e.header||this.config.header,e.timeout=8e4,e.flag=e.flag||0,e.flagz=e.flagz||0,e.noToken||(e.data=Object.assign(e.data,{token:a}));var r=e.errorMsg||"系统异常";return new Promise((function(a,i){var n=null;n=Object.assign({},t.config,e),n.requestId=(new Date).getTime(),uni.request(Object.assign({success:function(t){t&&500==t.statusCode&&0==e.flagz?d.default.showToast({title:t.data.errMsg||r}):t.data&&500==t.data.code&&0==e.flagz?d.default.showToast({title:t.data.meg||r}):a(t)},fail:function(e){i(e)}},n))}))},get:function(e,t,a){return a||(a={}),a.url=e,a.data=t,a.method="GET",this.request(a)},post:function(e,t,a){return a||(a={}),a.url=e,a.data=t,a.method="POST",this.request(a)},put:function(e,t,a){return a||(a={}),a.url=e,a.data=t,a.method="PUT",this.request(a)},delete:function(e,t,a){return a||(a={}),a.url=e,a.data=t,a.method="DELETE",this.request(a)}};var o=n;t.default=o}}]);